extends layouts/login-layout.pug

block content
    .loginContainer
        h1 Login
        //- Add JavaScript to check for the query parameter and display an alert
        script.
            if (window.location.search.includes("mailSuccess=true")) {
                alert("Email sent successfully. Please check your inbox for a reset link.");
            }
            else if (window.location.search.includes("reset=success")) {
                alert("Password has been changed successfully. Please use the new password.");
            }
        form(method="post")

            p.errorMessage #{errorMessage}

            input(type="text", name="logUsername", placeholder="Username or email", value=logUsername required="")
            input(type="password", name="logPassword", placeholder="Password", required="")

            //- input(type="text", name="logUsername", placeholder="Username or email", value="reecekenney" required="")
            //- input(type="password", name="logPassword", placeholder="Password", value="password" required="")

            input(type="submit", value="Login")
            // "Forgot Password" Button
            a(href="/forgot-password") Forgot Password?

        // Optional "Reset Password" Button (if needed)
        if resetToken
            a(href=`/reset-password/${resetToken}`) Reset Password
        a(href="/register") Need an account? Register here.